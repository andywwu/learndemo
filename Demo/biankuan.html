<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>变宽</title>
<style type="text/css">
  *{
	  padding:0;
	  margin:0;
	}
ul{
	list-style:none;
	}
ul li{
	width:100px;
	height:30px;
	background:yellow;
	margin-bottom:10px;
	line-height:30px;
	padding:10px;
	}
</style>
<script type="text/javascript">
  window.onload=function(){
	  var lis=document.getElementsByTagName("li");
	  for(var i=0;i<lis.length;i++){
		  lis[i].timer=null;
		  lis[i].onmouseover=function(){
			 goChange(this,"width",200); 
			  }
		  lis[i].onmouseout=function(){
			 goChange(this,"width",100);
		      }
	  }
	  function goChange(obj,attr,target){
		 clearInterval(obj.timer); 
		 obj.timer=setInterval(function(){
			 var width=parseInt(getStyle(obj,attr));
			 var speed=(target-width)/8;
			 speed=speed>0?Math.ceil(speed):Math.floor(speed);
			 if(width==target){
				 clearInterval(obj.timer);
				 }
			 else{
				 obj.style[attr]=width+speed+"px";
				 }
			 },30)
		}
		function getStyle(obj,attr){
			if(obj.currentStyle){
				return obj.currentStyle[attr];
				}
			 else{
				 return getComputedStyle(obj,false)[attr];
				 }	
			}
	    
  }
</script>
</head>

<body>
  <ul>
    <li>1</li>
    <li>2</li>
    <li>3</li>
  </ul>
</body>
</html>
